import{r as u,ae as J,m as K,a2 as Q,af as X,a0 as $,t as Y,j as N,_ as R,h as Z,g as ee,s as _,K as te,l as se,n as oe,a3 as A,v as ne,x as re}from"./index-8fbc9a42.js";import{P as ae,b as le}from"./Popover-63046ab8.js";import{L as ie}from"./List-a8fc5471.js";let H=0;function ue(t){const[e,o]=u.useState(t),g=t||e;return u.useEffect(()=>{e==null&&(H+=1,o(`mui-${H}`))},[e]),g}const U=J["useId".toString()];function Re(t){if(U!==void 0){const e=U();return t??e}return ue(t)}const ce=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function k(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function z(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function O(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function S(t,e,o,g,m,y){let p=!1,l=m(t,e,e?o:!1);for(;l;){if(l===t.firstChild){if(p)return!1;p=!0}const h=g?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!O(l,y)||h)l=m(t,l,o);else return l.focus(),!0}return!1}const pe=u.forwardRef(function(e,o){const{actions:g,autoFocus:m=!1,autoFocusItem:y=!1,children:p,className:l,disabledItemsFocusable:h=!1,disableListWrap:M=!1,onKeyDown:b,variant:P="selectedMenu"}=e,C=K(e,ce),f=u.useRef(null),T=u.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Q(()=>{m&&f.current.focus()},[m]),u.useImperativeHandle(g,()=>({adjustStyleForScrollbar:(s,{direction:r})=>{const i=!f.current.style.width;if(s.clientHeight<f.current.clientHeight&&i){const c=`${X($(s))}px`;f.current.style[r==="rtl"?"paddingLeft":"paddingRight"]=c,f.current.style.width=`calc(100% + ${c})`}return f.current}}),[]);const F=s=>{const r=f.current,i=s.key,c=$(r).activeElement;if(i==="ArrowDown")s.preventDefault(),S(r,c,M,h,k);else if(i==="ArrowUp")s.preventDefault(),S(r,c,M,h,z);else if(i==="Home")s.preventDefault(),S(r,null,M,h,k);else if(i==="End")s.preventDefault(),S(r,null,M,h,z);else if(i.length===1){const n=T.current,I=i.toLowerCase(),D=performance.now();n.keys.length>0&&(D-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&I!==n.keys[0]&&(n.repeating=!1)),n.lastTime=D,n.keys.push(I);const w=c&&!n.repeating&&O(c,n);n.previousKeyMatched&&(w||S(r,c,!1,h,k,n))?s.preventDefault():n.previousKeyMatched=!1}b&&b(s)},x=Y(f,o);let a=-1;u.Children.forEach(p,(s,r)=>{if(!u.isValidElement(s)){a===r&&(a+=1,a>=p.length&&(a=-1));return}s.props.disabled||(P==="selectedMenu"&&s.props.selected||a===-1)&&(a=r),a===r&&(s.props.disabled||s.props.muiSkipListHighlight||s.type.muiSkipListHighlight)&&(a+=1,a>=p.length&&(a=-1))});const v=u.Children.map(p,(s,r)=>{if(r===a){const i={};return y&&(i.autoFocus=!0),s.props.tabIndex===void 0&&P==="selectedMenu"&&(i.tabIndex=0),u.cloneElement(s,i)}return s});return N.jsx(ie,R({role:"menu",ref:x,className:l,onKeyDown:F,tabIndex:m?0:-1},C,{children:v}))}),fe=pe;function de(t){return Z("MuiMenu",t)}ee("MuiMenu",["root","paper","list"]);const me=["onEntering"],he=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ge={vertical:"top",horizontal:"right"},ye={vertical:"top",horizontal:"left"},Me=t=>{const{classes:e}=t;return re({root:["root"],paper:["paper"],list:["list"]},de,e)},be=_(ae,{shouldForwardProp:t=>te(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Pe=_(le,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ie=_(fe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),xe=u.forwardRef(function(e,o){var g,m;const y=se({props:e,name:"MuiMenu"}),{autoFocus:p=!0,children:l,className:h,disableAutoFocusItem:M=!1,MenuListProps:b={},onClose:P,open:C,PaperProps:f={},PopoverClasses:T,transitionDuration:F="auto",TransitionProps:{onEntering:x}={},variant:a="selectedMenu",slots:v={},slotProps:s={}}=y,r=K(y.TransitionProps,me),i=K(y,he),c=oe(),n=R({},y,{autoFocus:p,disableAutoFocusItem:M,MenuListProps:b,onEntering:x,PaperProps:f,transitionDuration:F,TransitionProps:r,variant:a}),I=Me(n),D=p&&!M&&C,w=u.useRef(null),G=(d,L)=>{w.current&&w.current.adjustStyleForScrollbar(d,{direction:c?"rtl":"ltr"}),x&&x(d,L)},W=d=>{d.key==="Tab"&&(d.preventDefault(),P&&P(d,"tabKeyDown"))};let E=-1;u.Children.map(l,(d,L)=>{u.isValidElement(d)&&(d.props.disabled||(a==="selectedMenu"&&d.props.selected||E===-1)&&(E=L))});const j=(g=v.paper)!=null?g:Pe,V=(m=s.paper)!=null?m:f,q=A({elementType:v.root,externalSlotProps:s.root,ownerState:n,className:[I.root,h]}),B=A({elementType:j,externalSlotProps:V,ownerState:n,className:I.paper});return N.jsx(be,R({onClose:P,anchorOrigin:{vertical:"bottom",horizontal:c?"right":"left"},transformOrigin:c?ge:ye,slots:{paper:j,root:v.root},slotProps:{root:q,paper:B},open:C,ref:o,transitionDuration:F,TransitionProps:R({onEntering:G},r),ownerState:n},i,{classes:T,children:N.jsx(Ie,R({onKeyDown:W,actions:w,autoFocus:p&&(E===-1||M),autoFocusItem:D,variant:a},b,{className:ne(I.list,b.className),children:l}))}))}),Ce=xe;export{Ce as M,Re as u};
